<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Floaty - Discord Bot & Automation Platform</title>
  
  <!-- Primary Meta Tags -->
  <meta name="title" content="Floaty - A client for Floatplane">
  <meta name="description" content="A client for Floatplane that has commonly requested features from the community.">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://floaty.fyi/">
  <meta property="og:title" content="Floaty - A client for Floatplane">
  <meta property="og:description" content="A client for Floatplane that has commonly requested features from the community.">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://floaty.fyi/">
  <meta property="twitter:title" content="Floaty - A client for Floatplane">
  <meta property="twitter:description" content="A client for Floatplane that has commonly requested features from the community.">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/favicon.ico">
  <link href="/tailwind.output.css" rel="stylesheet">
  <link href="/fonts.css" rel="stylesheet">
</head>
<body class="relative min-h-screen w-full overflow-x-hidden" style="background-color: #0A0B15">
  <!-- Navigation Bar Placeholder -->
  <div id="navbar-placeholder"></div>

  <script>
    fetch('/navbar.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('navbar-placeholder').innerHTML = data;
        // Dynamically load navbar.js after navbar is injected
        const script = document.createElement('script');
        script.src = '/navbar.js';
        document.body.appendChild(script);
      });
  </script>

  <!-- Hero Section (background + content) -->
  <div class="relative w-full overflow-hidden" style="min-height:600px;">
    <!-- Hero Background Image -->
    <img src="/images/HeroBackground.png" alt="Hero Background" class="absolute inset-0 w-full h-full object-cover object-top z-0 select-none pointer-events-none" draggable="false" />
    <!-- Hero Content -->
    <section class="relative z-10 flex flex-col items-center justify-center text-center pt-37 pb-0 select-none">
      <h1 class="text-white font-bold text-5xl md:text-6xl lg:text-7xl mb-2 mt-8 drop-shadow" >A client for Floatplane</h1>
      <h2 class="text-white font-medium text-5xl md:text-5xl mb-2 z-15" >Trust me bro, it works…</h2>
      <!-- Screenshot with overlayed buttons -->
      <div class="relative flex flex-col items-center justify-center w-full z-5 sm:mt-[-12vh] md:mt-[-9vh] lg:mt-[-6vh] xl:mt-[0vh] 2xl:mt-[7vh]" style="height:380px;">
        <img src="/images/HeroScreenshot.png" alt="App Screenshot" class="brightness-57 md:w-auto  lg:w-auto  xl:w-auto  2xl:w-auto max-w-[98vw] sm:max-w-[60vw] mx-auto rounded-xl shadow-2xl border-0 object-contain" style="transform: rotate(-4.7deg); box-shadow: 0 0px 50px 0 #7100BC, 0 0 0 2px #7100BC;" draggable="false" />
        <!-- Gradient fade-out overlay -->
        <div class="pointer-events-none absolute left-0 bottom-0 w-full h-100 translate-y-14" style="background: linear-gradient(to bottom, rgba(10,11,21,0.1) 15%, rgba(10,11,21,0.2) 20%, rgba(10,11,21,0.3) 25%, rgba(10,11,21,0.4) 30%, rgba(10,11,21,0.5) 35%, rgba(10,11,21,0.6) 40%, rgba(10,11,21,0.7) 45%, #0A0B15 70%);"></div>
        <!-- Overlayed Buttons -->
        <div class="absolute left-1/2 top-[15%] -translate-x-1/2 flex flex-col md:flex-row gap-4 w-full justify-center items-center px-2 sm:pt-[8vh] md:pt-[8vh] lg:pt-[6vh]">
          <a href="/download"><button class="px-10 py-3 rounded-full bg-[#64009E] text-white text-2xl font-semibold shadow-xl hover:scale-105 transition-transform focus:outline-none focus:ring-2 focus:ring-purple-400 w-full md:w-auto" style="box-shadow: 0 0 24px 4px #b46cff99;">Download</button></a>
          <a href="#about"><button class="learn-more-btn px-10 py-3 rounded-full bg-[#44454e] text-white text-2xl font-semibold shadow hover:bg-[#595a65] transition w-full md:w-auto">Learn More</button></a>
        </div>
      </div>
    </section>
  </div>
  
  <section class="w-full bg-[#0A0B15]">
    <div class="max-w-5xl mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-white text-center mb-14">Why floaty?</h2>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-10 text-center">
        <!-- Offline Video -->
        <div>
          <img src="/images/offline-video.svg" alt="Offline Video Icon" class="mx-auto mb-4 w-24 h-24" />
          <h3 class="text-2xl font-semibold text-white mb-2">Offline Video</h3>
          <p class="text-gray-300 text-base">Going somewhere with no internet connection? Download your favourites and take them anywhere.</p>
        </div>
        <!-- Community Driven -->
        <div>
          <img src="/images/community-driven.svg" alt="Community Driven Icon" class="mx-auto mb-4 w-24 h-24" />
          <h3 class="text-2xl font-semibold text-white mb-2">Community Driven</h3>
          <p class="text-gray-300 text-base">Floaty is built on feedback from the community. Don’t like something? Just say.</p>
        </div>
        <!-- Open Source -->
        <div>
          <img src="/images/open-source.svg" alt="Open Source Icon" class="mx-auto mb-4 w-24 h-24" />
          <h3 class="text-2xl font-semibold text-white mb-2">Open Source</h3>
          <p class="text-gray-300 text-base">Floaty is open source under the GPL-3.0 license and available on GitHub for anybody to contribute.</p>
        </div>
        <!-- Multi-Platform App -->
        <div>
          <img src="/images/multi-platform.svg" alt="Multi-Platform Icon" class="mx-auto mb-4 w-24 h-24" />
          <h3 class="text-2xl font-semibold text-white mb-2">Multi-Platform App</h3>
          <p class="text-gray-300 text-base">You can use Floaty on desktop and mobile because it's built in Flutter.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Whenplane Integration Section -->
  <section class="relative w-full py-20 pt-30 pb-30">
    <div class="relative z-10 max-w-6xl mx-auto flex flex-col lg:flex-row items-center justify-center px-4">
      <!-- Left: Whenplane image -->
      <div class="flex-shrink-0 mb-10 lg:mb-0 lg:mr-12">
        <img src="/images/WhenplaneImage.png" alt="Whenplane integration preview" class="w-[320px] md:w-[400px] lg:w-[440px]" draggable="false" />
      </div>
      <!-- Right: Text -->
      <div class="text-center lg:text-left max-w-xl">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4 z-40">Whenplane Intergration</h2>
        <p class="text-white text-lg md:text-xl font-normal leading-relaxed z-40">
          Floaty natively integrates with Whenplane to provide updates on the status of the WAN show and can also provide information on previous WAN shows like how late it was or how long the pre-show and main show lasted.
        </p>
      </div>
    </div>
  </section>

    <!-- Changelogs and Blog Posts Section -->
    <section class="w-full max-w-7xl mx-auto px-4 py-12">
      <h2 class="text-4xl font-bold text-white text-center mb-10">Changelogs and blog posts</h2>
      <div id="home-blog-list" class="flex flex-wrap gap-8 justify-center"></div>
    </section>
    <script>
      import('./blog-card-utils.js').then(mod => {
        fetch('/api/posts')
          .then(res => res.json())
          .then(data => {
            const posts = data.posts || [];
            return fetch('/blog-card.html').then(res => res.text()).then(templateHTML => {
              const list = document.getElementById('home-blog-list');
              posts.slice(0, 3).forEach(post => {
                const temp = document.createElement('div');
                temp.innerHTML = templateHTML;
                const card = temp.firstElementChild;
                card.querySelector('[data-type="badge"]').textContent = post.type.charAt(0).toUpperCase() + post.type.slice(1);
                card.querySelector('[data-type="badge"]').className += ` ${mod.badgeColors[post.type] || ''}`;
                card.querySelector('[data-type="title"]').textContent = post.title;
                card.querySelector('[data-type="summary"]').textContent = post.summary;
                card.querySelector('[data-type="date"]').textContent = mod.formatDate(post.date || post.createdAt);
                card.querySelector('[data-type="thumbnail"]').src = post.thumbnail;
                card.href = post.type == 'changelog' ? `/changelog#${post.deploymentId}` : `/post/${post.url}`;
                // Render tags
                const tagsDiv = card.querySelector('[data-type="tags"]');
                tagsDiv.innerHTML = '';
                (post.tags || []).forEach(tag => {
                  const tagEl = document.createElement('span');
                  tagEl.className = 'px-2 py-0.5 rounded-full text-xs font-normal ml-1';
                  tagEl.style.backgroundColor = tag.color || '#6366f1';
                  tagEl.style.color = '#fff';
                  tagEl.textContent = tag.name;
                  tagsDiv.appendChild(tagEl);
                });
                list.appendChild(card);
              });
            });
          });
      });
    </script>
        <section class="w-full max-w-7xl mx-auto px-4 py-40">
          <h2 class="text-4xl font-bold text-white text-center mb-10">Convinced?</h2>
          <div class="flex flex-col md:flex-row gap-4 w-full justify-center items-center px-2 sm:pt-[8vh] md:pt-[8vh] lg:pt-[6vh]">
            <button class="px-10 py-3 rounded-full bg-[#64009E] text-white text-2xl font-semibold shadow-xl hover:scale-105 transition-transform focus:outline-none focus:ring-2 focus:ring-purple-400 w-full md:w-auto" style="box-shadow: 0 0 24px 4px #b46cff99;">Download</button>
          </div>
        </section>

  <div id="footer-container"></div>
  <script>
// Smooth scroll to 'Why floaty?' section when About is clicked or on #about

document.addEventListener('DOMContentLoaded', function () {
    // Helper to scroll to Why floaty section
    function scrollToAbout() {
        const aboutSection = document.querySelector('h2.font-bold.text-white.text-center.mb-14');
        if (aboutSection) {
            aboutSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    }

    // Desktop navbar: About button
    function bindDesktopAbout() {
        // Wait for navbar to be injected
        const navCheck = setInterval(() => {
            const nav = document.getElementById('navbar-placeholder');
            if (!nav || !nav.querySelector) return;
            // Desktop About
            const aboutLink = nav.querySelector('.md\\:flex a:nth-child(2)');
            if (aboutLink && !aboutLink.dataset.scrollBound) {
                aboutLink.dataset.scrollBound = 'true';
                aboutLink.addEventListener('click', function (e) {
                    e.preventDefault();
                    history.replaceState(null, '', '#about');
                    scrollToAbout();
                });
                clearInterval(navCheck);
            }
        }, 100);
    }

    // Mobile menu: About button
    function bindMobileAbout() {
        const navCheck = setInterval(() => {
            const nav = document.getElementById('navbar-placeholder');
            if (!nav || !nav.querySelector) return;
            // Mobile About
            const mobileAbout = nav.querySelector('#mobile-menu a:nth-child(3)');
            if (mobileAbout && !mobileAbout.dataset.scrollBound) {
                mobileAbout.dataset.scrollBound = 'true';
                mobileAbout.addEventListener('click', function (e) {
                    e.preventDefault();
                    // Hide mobile menu if open
                    const menu = nav.querySelector('#mobile-menu');
                    if (menu) {
                        menu.classList.add('invisible', 'opacity-0', 'pointer-events-none');
                    }
                    history.replaceState(null, '', '#about');
                    scrollToAbout();
                });
                clearInterval(navCheck);
            }
        }, 100);
    }

    // Attach smooth scroll to "Learn More" button in hero
    var learnMoreBtn = document.querySelector('.learn-more-btn');
    if (learnMoreBtn) {
        learnMoreBtn.addEventListener('click', function(e) {
            e.preventDefault();
            scrollToAbout();
        });
    }

    // Scroll on page load if #about is present
    if (window.location.hash === '#about') {
        setTimeout(scrollToAbout, 200); // Wait for DOM/render
    }

    bindDesktopAbout();
    bindMobileAbout();
});
  </script>
  <script>
    // Modular footer loader
    fetch('/footer.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('footer-container').innerHTML = html;
      });
  </script>
</body>
</html>
